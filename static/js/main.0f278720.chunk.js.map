{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/API/API.js","Components/Loader/Loader.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","galleryName","handelChange","event","setState","currentTarget","value","handelSubmit","preventDefault","trim","props","onSubmit","toast","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","key","imageSrc","modalImage","src","alt","api","fetchAPI","query","page","fetch","then","res","json","LoaderSpiner","styles","Loader","color","height","width","Button","onClick","modalRoot","document","querySelector","Modal","handelKeyDown","e","code","onClose","handleBackdropClick","current","target","window","addEventListener","openModal","removeEventListener","createPortal","Overlay","children","ImageGallery","loading","error","dataSet","visibleButton","visibleModal","getFetch","API","data","console","log","hits","length","prevState","scroll","catch","finally","handelButton","scrollTo","top","documentElement","scrollHeight","behavior","toogleModal","prexProps","prevQuery","nextQuery","prevPage","nextPage","map","card","webformatURL","openModalImage","id","App","handelSearchbarSubmit","name","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0f278720.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3BNCn\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__19kn4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__P0TSL\",\"Modal\":\"Modal_Modal__2aLch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3RveV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__Na_10\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__26mmA\"};","import React,{Component} from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css'\r\n\r\n\r\nclass Searchbar extends Component {\r\n    \r\n    state = {\r\n      galleryName:''\r\n    }\r\n    \r\n    handelChange=event=>{\r\n        this.setState({galleryName:event.currentTarget.value})\r\n    }\r\n    handelSubmit=event=>{\r\n        event.preventDefault();\r\n        if(this.state.galleryName.trim() === ''){\r\n            toast('Введите что хотите найти');\r\n            return\r\n        }\r\n\r\n        this.props.onSubmit(this.state.galleryName);\r\n        this.setState({galleryName:''});\r\n    }\r\n   \r\n  \r\n    render() {\r\n        \r\n         return (\r\n        <>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handelSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handelChange}\r\n            value={this.state.galleryName}\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"/>\r\n        </form>\r\n     </header> \r\n\r\n\r\n\r\n\r\n\r\n\r\n        </>\r\n      );\r\n  \r\n    }}\r\n    export default Searchbar;","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\n\r\n\r\nconst ImageGalleryItem= ({key,imageSrc,modalImage})=>(\r\n    <li className={s.ImageGalleryItem} key={key}>\r\n<img src={imageSrc} alt={modalImage} className={s.ImageGalleryItem} />\r\n  </li>\r\n\r\n)\r\n\r\nexport default ImageGalleryItem;","\r\nfunction fetchAPI(query,page) {\r\n    \r\n   return fetch(`https://pixabay.com/api/?key=21851027-176a1d26dd1c513dea811d525&q=${query}&image_type=photo&pretty=true&page=1&per_page=12&page=${page}`)\r\n    .then(res=>res.json())\r\n}\r\nconst api={\r\n    fetchAPI,\r\n}\r\n export default api;\r\n ","import Loader from \"react-loader-spinner\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpiner = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderSpiner;","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentWillMount(){\r\n      window.addEventListener(this.openModal,this.handelKeyDown)\r\n  }\r\n  componentWillUnmount(){\r\n      window.removeEventListener(this.openModal,this.handelKeyDown)\r\n  }\r\n \r\n  handelKeyDown=e=>{\r\n    if(e.code==='Escape'){\r\n        this.props.onClose() \r\n     }\r\n\r\n  }\r\n  handleBackdropClick=event=>{\r\n      if (event.current.target===event.target){\r\n          this.props.onClick()\r\n      }\r\n  }\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;","import { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport API from '../API'\r\nimport s from './ImageGallery.module.css';\r\nimport Loader from '../Loader'\r\nimport Button from \"../Button\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\n\r\n\r\n\r\nexport default class ImageGallery extends Component {\r\n    state={\r\n        loading:false,\r\n        error:false,\r\n        dataSet:null,\r\n        page:1,\r\n        visibleButton:false,\r\n        visibleModal:false,\r\n        imageSrc: \"\",\r\n\r\n    }\r\n    \r\n    componentDidUpdate(prexProps,prevState){\r\n        \r\n        const prevQuery=prexProps.galleryName;\r\n        const nextQuery=this.props.galleryName;\r\n        const prevPage=prevState.page;\r\n        const nextPage=this.state.page;\r\n               \r\n        if(prevQuery!==nextQuery){\r\n            this.setState({page:1,dataSet:[]});\r\n         \r\n        }\r\n        if((prevQuery!==nextQuery)||(prevPage!==nextPage)){\r\n            this.getFetch()\r\n        }\r\n\r\n          \r\n    }\r\n    getFetch=()=>{\r\n        const{page}=this.state;\r\n        const query=this.props.galleryName\r\n        \r\n        this.setState({loading:true,visibleButton:false});\r\n\r\n\r\n        API.fetchAPI(query,page)\r\n        .then(data=>{\r\n            console.log(data);\r\n            if(data.hits.length===0){ \r\n                toast.error('Ничего не найденно по вашему запросу.Введите коректный запрос')\r\n            }\r\n            if(data.hits.length!==12){\r\n                toast('Это последние картинки');\r\n                \r\n            }\r\n            this.setState(prevState=>({dataSet:[...prevState.dataSet,...data.hits],visibleButton:true}));\r\n            this.scroll()\r\n        })\r\n            \r\n        .catch(error=>this.setState({error}))    \r\n        .finally(()=>{\r\n            this.setState({loading:false});\r\n            })\r\n    \r\n\r\n    }\r\n        \r\n    handelButton=()=>{\r\n        this.setState(prevState=>({page:prevState.page+1}));\r\n          \r\n    }\r\n    scroll = () => {\r\n        console.log(76)\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      }\r\n\r\n    toogleModal=()=>{\r\n         this.setState(({visibleModal})=>({\r\n             visibleModal:!visibleModal\r\n         }))\r\n     } \r\n      \r\n    render(){\r\n        return(\r\n        <div>\r\n            \r\n            {this.state.error&&<div>Произошла ошибка при запросе</div>}\r\n            {this.state.loading&&<Loader/>}\r\n            {!this.props.galleryName &&<div>Стейт пустой, введите что хотите найти</div>}\r\n            {this.state.dataSet&&\r\n            \r\n             <ul className={s.ImageGallery}>{this.state.dataSet.map(card=>\r\n                 <ImageGalleryItem key={card.id}\r\n                 imageSrc={card.webformatURL}\r\n                 modalImage={card.openModalImage}  />)}</ul>}\r\n             {this.state.visibleButton&&<div><Button onClick={this.handelButton}/></div>}\r\n             {this.state.visibleModal&&<Modal onClose={this.toogleModal}>Ребенок</Modal>}\r\n           \r\n        </div>\r\n\r\n    )\r\n        \r\n    }\r\n}\r\n    \r\n            \r\n            \r\n\r\n        \r\n    \r\n        \r\n        \r\n    \r\n        \r\n      \r\n","import React,{Component} from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\n\n\n\n\nclass App extends Component {\n  state={\n    galleryName:'',\n  }\n  handelSearchbarSubmit=name=>{\n    this.setState({galleryName:name})\n  }\n  \n  \n   \n  render() {\n     \n           return (\n          <>\n            <Searchbar onSubmit={this.handelSearchbarSubmit}/>\n            <ImageGallery galleryName={this.state.galleryName}/>            \n            <ToastContainer autoClose={3000} />\n          </>\n          \n     )\n   \n\n  }\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1wFAE\",\"SearchForm\":\"Searchbar_SearchForm__3xLCq\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3s8XK\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3qYso\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1OJJH\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3FhHY\"};"],"sourceRoot":""}