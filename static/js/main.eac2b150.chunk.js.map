{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","API/API.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","galleryName","handelChange","event","setState","currentTarget","value","handelSubmit","preventDefault","trim","props","onSubmit","toast","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","imageSrc","openModalCard","src","alt","onClick","ImageGallery","data","map","id","webformatURL","largeImageURL","modalCard","api","fetchAPI","page","query","fetch","then","res","json","Button","LoaderSpiner","styles","Loader","color","height","width","modalRoot","document","querySelector","Modal","handelKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","loading","error","dataSet","visibleButton","visibleModal","getFetch","API","hits","length","prevState","catch","finally","scroll","scrollTo","top","documentElement","scrollHeight","behavior","handelSearchbarSubmit","name","handelButton","toggleModal","prevProps","prevQuery","nextQuery","prevPage","nextPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eac2b150.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3BNCn\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__19kn4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__P0TSL\",\"Modal\":\"Modal_Modal__2aLch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3RveV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__26mmA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__Na_10\"};","import React,{Component} from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css'\r\n\r\n\r\nclass Searchbar extends Component {\r\n    \r\n    state = {\r\n      galleryName:''\r\n    }\r\n    \r\n    handelChange=event=>{\r\n        this.setState({galleryName:event.currentTarget.value})\r\n    }\r\n    handelSubmit=event=>{\r\n        event.preventDefault();\r\n        if(this.state.galleryName.trim() === ''){\r\n            toast('Введите что хотите найти');\r\n            return\r\n        }\r\n\r\n        this.props.onSubmit(this.state.galleryName);\r\n        this.setState({galleryName:''});\r\n    }\r\n   \r\n  \r\n    render() {\r\n        \r\n         return (\r\n        <>\r\n          <header className={s.Searchbar}>\r\n           <form className={s.SearchForm} onSubmit={this.handelSubmit}>\r\n           <button type=\"submit\" className={s.SearchForm_button}>\r\n           <span className={s.SearchForm_button_label}>Search</span>\r\n           </button>\r\n\r\n           <input\r\n            onChange={this.handelChange}\r\n            value={this.state.galleryName}\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"/>\r\n          </form>\r\n        </header> \r\n\r\n\r\n\r\n\r\n\r\n\r\n        </>\r\n      );\r\n  \r\n    }}\r\n    export default Searchbar;","import s from './ImageGalleryItem.module.css'\r\n\r\n\r\nconst ImageGalleryItem = ({ imageSrc, openModalCard }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={imageSrc}\r\n        alt=\"\"\r\n        className={s[\"ImageGalleryItem-image\"]}\r\n        onClick={openModalCard}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\nexport default ImageGalleryItem;","import { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from './ImageGallery.module.css';\r\n\r\n\r\nexport default class ImageGallery extends Component {\r\n    \r\n  \r\n    render(){\r\n        return(\r\n            <div>\r\n                <ul className={s.ImageGallery}>{this.props.data.map(({id,webformatURL,largeImageURL})=>\r\n                 {const openModalCard = () => this.props.modalCard(largeImageURL);\r\n                 return (\r\n                    <ImageGalleryItem\r\n                      key={id}\r\n                      imageSrc={webformatURL}\r\n                      openModalCard={openModalCard}/>)})}\r\n                 </ul> \r\n            </div>)\r\n        \r\n    }\r\n}\r\n    \r\n            \r\n            \r\n\r\n        \r\n    \r\n        \r\n        \r\n    \r\n        \r\n      \r\n","\r\nfunction fetchAPI(page,query) {\r\n    \r\n   return fetch(`https://pixabay.com/api/?key=21851027-176a1d26dd1c513dea811d525&q=${query}&image_type=photo&pretty=true&page=1&per_page=12&page=${page}`)\r\n    .then(res=>res.json())\r\n}\r\nconst api={\r\n    fetchAPI,\r\n}\r\n export default api;\r\n ","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpiner = () => {\r\n  return (\r\n    <div className={styles.Loader}>\r\n      <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderSpiner;","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentWillMount(){\r\n      window.addEventListener(\"keydown\",this.handelKeyDown)\r\n  }\r\n  componentWillUnmount(){\r\n      window.removeEventListener(\"keydown\",this.handelKeyDown)\r\n  }\r\n \r\n  handelKeyDown=e=>{\r\n    if(e.code==='Escape'){\r\n        this.props.onClick() \r\n     }\r\n\r\n  }\r\n  \r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;","import React,{Component} from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport API from './API';\nimport Button from './Components/Button';\nimport { toast } from \"react-toastify\";\nimport Loader from './Components/Loader';\nimport Modal from './Components/Modal'\n\nclass App extends Component {\n  state={\n    galleryName:'',\n    loading:false,\n    error:false,\n    dataSet:null,\n    page:1,\n    visibleButton:false,\n    visibleModal:false,\n    largeImageURL:null\n  }\n  componentDidUpdate(prevProps,prevState){\n        \n    const prevQuery=prevState.galleryName;\n    const nextQuery=this.state.galleryName;\n    const prevPage=prevState.page;\n    const nextPage=this.state.page;\n           \n    if(prevQuery!==nextQuery){\n        this.setState({page:1,dataSet:[]});\n     \n    }\n    if((prevQuery!==nextQuery)||(prevPage!==nextPage)){\n        this.getFetch()\n    }\n\n      \n  }\n  getFetch=()=>{\n    const{page, galleryName}=this.state;\n    this.setState({loading:true,visibleButton:false});\n  \n    API.fetchAPI(page,galleryName)\n     .then(data=>{\n          if(data.hits.length===0){ \n          toast.error('Ничего не найденно по вашему запросу.Введите коректный запрос')\n       }\n       if(data.hits.length!==12){\n          toast('Это последние картинки');\n          \n       }\n      this.setState(prevState=>({dataSet:[...prevState.dataSet,...data.hits],visibleButton:true}));\n     })      \n    .catch(error=>this.setState({error}))    \n    .finally(()=>{\n      this.setState({loading:false});\n      this.scroll(); \n      })\n  }\n\n  scroll=()=>{\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  handelSearchbarSubmit=name=>{\n  this.setState({galleryName:name})\n  } \n\n  handelButton=()=>{\n    this.setState(prevState=>({page:prevState.page+1}));\n   \n  }\n\n  toggleModal = () =>\n    this.setState(({ visibleModal }) => ({ visibleModal: !visibleModal }));\n\n  modalCard = (largeImageURL) => {\n   this.setState({ largeImageURL});\n   this.toggleModal();\n  }\n   \n  render() {\n     \n           return (\n          <>\n            <Searchbar onSubmit={this.handelSearchbarSubmit}/>\n            {this.state.error&&<div>Произошла ошибка при запросе</div>}\n            {this.state.loading&&<Loader/>}\n            {this.state.dataSet &&<ImageGallery data={this.state.dataSet} modalCard={this.modalCard}/>} \n            {this.state.visibleButton&&<div><Button onClick={this.handelButton}/></div>}           \n            <ToastContainer autoClose={3000} />\n            {this.state.visibleModal && (<Modal onClick={this.toggleModal}><img src={this.state.largeImageURL} alt=\"\" /></Modal>)}\n          </>\n          \n     )\n   \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1wFAE\",\"SearchForm\":\"Searchbar_SearchForm__3xLCq\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3s8XK\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3qYso\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1OJJH\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3FhHY\"};"],"sourceRoot":""}